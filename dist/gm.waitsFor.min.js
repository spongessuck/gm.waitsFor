/*! gm.waitsFor 2015-02-20 */
!function(){angular.module("gm.waitsFor",[]).directive("waitsFor",function(){var a,b="waitsFor.tpl.html",c="<span>Loading...</span>";return{restrict:"A",controller:["$scope","$templateCache",function(d,e){a=e.get(b)||c}],link:function(b,d,e){var f,g,h=d.contents();f=angular.element(e.waitingTemplate?e.waitingTemplate:a),e.waitingMessage&&(a==c?f.html(e.waitingMessage):g=angular.element("<span>"+e.waitingMessage+"</span>")),b.$watch(function(){return b.$eval(e.waitsFor)},function(a){a?(h.removeClass("hidden"),f.remove(),g&&g.remove()):(h.addClass("hidden"),d.append(f),g&&d.after(g))})}}})}();